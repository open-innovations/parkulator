<!DOCTYPE html>
<html lang="en">
<head>
	<title>Parkulator</title>
	<link rel="icon" href="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='640' height='640' overflow='auto' viewBox='-32 -32 64 64' xmlns='http://www.w3.org/2000/svg'%3E%3Cmask id='oi-person'%3E%3Cpath d='m-32-32h64v64h-12v-24a4 4 0 0 0 -4 -4h-8a4 4 0 0 0 -4 4v24h-36zm44 27m-8 0a8 8 0 1 0 16 0 8 8 0 1 0-16 0' fill='%23fff'%3E%3C/path%3E%3C/mask%3E%3Cg id='oi-logo' fill='%23FF6700'%3E%3Ccircle r='32' mask='url(%23oi-person)'%3E%3C/circle%3E%3C/g%3E%3C/svg%3E" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8" />
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="@openinnovates">
	<meta name="twitter:url" property="og:url" content="https://open-innovations.github.io/parkulator/">
	<meta name="twitter:title" property="og:title" content="Parkulator">
	<meta name="twitter:description" property="og:description" content="Calculate the number of parks that could be made if carparking was replaced.">
	<meta name="twitter:image" property="og:image" content="resources/screenshot.png">
	<link rel="StyleSheet" href="resources/leaflet.css" type="text/css" />
	<link rel="StyleSheet" href="resources/leaflet.area-selection.css" type="text/css" />
	<link rel="StyleSheet" href="resources/leaflet.load-geography-bit.css" type="text/css" />
	<link rel="StyleSheet" href="resources/style.css" type="text/css" />
</head>
<body class="b1-bg">

	<div class="b6-bg">

		<header>
			<div class="b1-bg">
				<div class="holder padded" style="text-align:center;">
					<a href="https://open-innovations.org/"><svg width="80" height="80" overflow="auto" viewBox="-32 -32 64 64" xmlns="http://www.w3.org/2000/svg"><mask id="oi-person"><path d="m-32-32h64v64h-12v-24a4 4 0 0 0 -4 -4h-8a4 4 0 0 0 -4 4v24h-36zm44 27m-8 0a8 8 0 1 0 16 0 8 8 0 1 0-16 0" fill="#fff"></path></mask><g id="oi-logo" fill="#FF6700"><circle r="32" mask="url(#oi-person)"></circle></g></svg></a>
					<h1>Parkulator</h1>
				</div>
			</div>
			
			<div id="place-search"></div>
		</header>

		<div class="holder outlined">
			<div id="map">
				<div class="spinner" style="text-align:center;">
					<img src="https://open-innovations.org/resources/images/loader.svg" alt="Loading..." />
				</div>
			</div>

			<div id="message"></div>

		</div>

		<div class="b6-bg padded">
			<div class="holder" style="text-align:center;">
				<div style="margin-bottom:1em;">Parkulatable <label for="type">features:</label> <select id="type"></select></div>
				<button id="calculate" class="c13-bg" style="font-size: 1.5em;margin-bottom:1em;">Parkulate!</button>
			</div>
		</div>		
	</div>
	
	<footer class="b1-bg">
		<div class="holder doublepadded">
			<h2>Notes</h2>
			<p>This tool finds polygons (<em>ways</em>) in OpenStreetMap for the selected feature type and then calculates how many parks and how many homes you'd be able to have on the same footprint.</p>
			<p>To use it, you need to create an area on the map. There are three ways to create an area:</p>
			<ul>
				<li>Click the <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" vector-effect="non-scaling-stroke" class="bi bi-bounding-box" viewBox="0 0 16 16"><path d="M5 2V0H0v5h2v6H0v5h5v-2h6v2h5v-5h-2V5h2V0h-5v2H5zm6 1v2h2v6h-2v2H5v-2H3V5h2V3h6zm1-2h3v3h-3V1zm3 11v3h-3v-3h3zM4 15H1v-3h3v3zM1 4V1h3v3H1z"/></svg> at the top-left of the map then draw an area.</li>
				<li>Drag-and-drop a GeoJSON file onto the map.</li>
				<li>Click the <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-building" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694 1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z"/><path d="M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z"/></svg> icon to search for a GeoJSON of a UK local authority, ward, constituency, or MSOA from our <a href="https://github.com/open-innovations/geography-bits/tree/master/data/">Geography Bits repository</a>.</li>
			</ul>
			<p>Once you have an area drawn on the map, click the "Parkulate!" button.</p>

			<p>If you notice omissions, <a href="https://openstreetmap.org/">go to OpenStreetMap</a> and check if the feature exists and if it has been tagged correctly. Updates made to OpenStreetMap should filter through to this tool within a few hours.</p>

			<p id="solar-estimate">&dagger; As of July 2020 the largest solar farm in the world was Bhadla Solar Park in Rajasthan. This <a href="https://www.solarproguide.com/how-much-power-can-1-acre-of-solar-panels-produce/">covers 10,000 acres and has a generating capacity of 2,245 MW</a>. This implies solar farms could generate around 0.23 MW per acre. In practice, when split across multiple smaller sites, at different latitudes, and in different weather conditions, turning the selected features into a solar farm would probably generate less power. <a href="https://commonslibrary.parliament.uk/research-briefings/cbp-7434/">The House of Commons Library (2015) estimate</a> that 25 acres of land is required for every 5 MW and that solar farms power roughly 300 homes per MW.</p>

			<h2>Credits</h2>
			<p>This open source project is made possible thanks to other open source and open data projects:</p>

			<ul>
				<li>Inspired by <a href="https://github.com/thomasforth/parkulator">an existing project by Thomas Forth</a> / imactivate. This version by <a href="https://open-innovations.org/">Open Innovations</a> - <a href="https://github.com/open-innovations/parkulator/">code on GitHub</a> (MIT licence).</li>
				<li><a href="https://openstreetmap.org/">Mapping data</a> &copy; OpenStreetMap and Contributors (ODbL) via the <a href="https://wiki.openstreetmap.org/wiki/Overpass_API">Overpass API</a>.</li>
				<li>Tiles &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> / <a href="http://cartodb.com/attributions">CartoDB</a>.</li>
				<li>Location lookup uses city/town data from <a href="http://www.geonames.org/export/">GeoNames</a> (CC-BY).</li>
				<li>UK geography outlines from <a href="https://geoportal.statistics.gov.uk/">ONS</a>.</li>
				<li>Uses <a href="https://leafletjs.com/">Leaflet</a>, <a href="https://turfjs.org/">turf.js</a>, and a modified version of <a href="https://github.com/bopen/leaflet-area-selection">leaflet-area-selection</a>.</li>
				<li>Icons by <a href="https://icons.getbootstrap.com/">Bootstrap</a> (MIT licence).</li>
			</ul>
		</div>
	</footer>

	<script type="text/javascript" src="resources/leaflet.js"></script>
	<script type="text/javascript" src="resources/leaflet.area-selection.js"></script>
	<script type="text/javascript" src="resources/leaflet.load-geography-bit.js"></script>
	<script type="text/javascript" src="resources/oi.turf.min.js"></script>
	<!--<script type="text/javascript" src="resources/polyline.js"></script>-->
	<script type="text/javascript" src="resources/parkulator.js"></script>

	<script src="https://open-innovations.org/resources/oi.log.js"></script>
	<script>
	OI.log.setup({'id':'odileeds','target':['open-innovations.org','open-innovations.github.io']}).add('action=view');
	</script>
</body>
</html>
